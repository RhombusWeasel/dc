<form>
    <h1 class="center">Edit {{this.title}}</h1>
    <div class="flexrow">
        <!-- Editor Side -->
        <div>
            <h2 class="center">Core</h2>
            <table>
                <tr>
                    <td class="perc30 center">Name</td>
                    <td><input class="text-change" type="text" data-path="label" value="{{race.label}}"/></td>
                    <td class="perc5"></td>
                </tr>
                <tr>
                    <td class="perc30 center">Description</td>
                {{#each race.descriptions.main as |str|}}
                    {{#if (eq @index 0)}}
                            <td><input class="text-change" type="text" data-path="descriptions.main.0" value="{{str}}"/></td>
                            <td class="perc5"><a class="add-line" data-path="descriptions.main"><i class="fas fa-plus"/></a></td>
                        </tr>
                    {{else}}
                        <tr>
                            <td></td>
                            <td><input class="text-change" type="textarea" data-path="descriptions.main.{{@index}}" value="{{str}}"/></td>
                            <td class="perc5"></td>
                        </tr>
                    {{/if}}
                {{/each}}
                <tr>
                    <td class="center">Playable</td>
                    {{#if (eq race.playable true)}}
                        <td class="center"><a class="bool-change" data-path="playable"><i class="fas fa-check"></i></a></td>
                    {{else}}
                        <td class="center"><a class="bool-change" data-path="playable"><i class="fas fa-times"></i></a></td>
                    {{/if}}
                    <td class="perc5"></td>
                </tr>
                <tr>
                    <td class="center">Bloodline</td>
                    <td class="center">{{race.bloodline}}</td>
                    <td class="perc5"></td>
                </tr>
            </table>
            <h2 class="center">Stat Bonuses</h2>
            <table>
                {{#each stats as |stat|}}
                    <tr>
                        <td class="perc30 center">{{stat.label}}</td>
                        <td><input class="int-change" type="number" data-path="stat_bonuses.{{@key}}" value="{{lookup ../race.stat_bonuses @key}}"/></td>
                    </tr>
                {{/each}}
            </table>
            <h2 class="center">Abilities</h2>
        </div>
        <!-- Preview Side -->
        <div>
            {{> "systems/dc/templates/shared/race-display.hbs" stats=stats race=race uuid=uuid}}
        </div>
    </div>
    <button class="center save-changes">Save Changes</button>
</form>